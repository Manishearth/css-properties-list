// must be run in chrome, firefox doesn't preserve newlines in innerText of synthesized documents

// list from https://www.w3.org/Style/CSS/all-properties.en.html
let w3props = new Set(["align-content","align-items","align-self","alignment-baseline","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","baseline-shift","bookmark-label","bookmark-label","bookmark-level","bookmark-level","bookmark-state","bookmark-state","border-boundary","bottom","box-snap","box-suppress","break-after","break-before","break-inside","clear","color-interpolation-filters","content","counter-increment","counter-reset","counter-set","display","display","display","dominant-baseline","filter","float","flood-color","flood-opacity","flow-from","flow-into","footnote-display","footnote-policy","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","image-orientation","image-rendering","image-resolution","initial-letter","initial-letter-align","initial-letter-wrap","justify-content","justify-items","justify-self","left","lighting-color","line-grid","line-snap","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-side","marquee-direction","marquee-loop","marquee-speed","marquee-style","max-height","max-lines","max-width","min-height","min-width","object-fit","object-position","offset-after","offset-before","offset-end","offset-start","overflow","overflow","overflow-style","overflow-x","overflow-x","overflow-y","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","perspective","perspective-origin","polar-anchor","polar-angle","polar-distance","polar-origin","position","quotes","region-fragment","right","rotation","rotation-point","ruby-align","ruby-merge","ruby-position","running","scroll-behavior","scroll-snap-align","scroll-snap-margin","scroll-snap-margin-block","scroll-snap-margin-block-end","scroll-snap-margin-block-start","scroll-snap-margin-bottom","scroll-snap-margin-inline","scroll-snap-margin-inline-end","scroll-snap-margin-inline-start","scroll-snap-margin-left","scroll-snap-margin-right","scroll-snap-margin-top","scroll-snap-padding","scroll-snap-padding-block","scroll-snap-padding-block-end","scroll-snap-padding-block-start","scroll-snap-padding-bottom","scroll-snap-padding-inline","scroll-snap-padding-inline-end","scroll-snap-padding-inline-start","scroll-snap-padding-left","scroll-snap-padding-right","scroll-snap-padding-top","scroll-snap-stop","scroll-snap-type","shape-inside","size","string-set","string-set","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","vertical-align","visibility","width","wrap-flow","wrap-through","z-index"]);


// obtained by iterating through getcomputedstyle
let firefoxprops = new Set(["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","caption-side","clear","clip","color","color-adjust","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-gap","grid-column-start","grid-row-end","grid-row-gap","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","ime-mode","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","margin-bottom","margin-left","margin-right","margin-top","marker-offset","max-height","max-width","min-height","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","ruby-align","ruby-position","scroll-behavior","scroll-snap-coordinate","scroll-snap-destination","scroll-snap-points-x","scroll-snap-points-y","scroll-snap-type-x","scroll-snap-type-y","table-layout","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-orientation","text-overflow","text-shadow","text-transform","top","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","z-index","clip-path","clip-rule","color-interpolation","color-interpolation-filters","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","image-rendering","lighting-color","marker-end","marker-mid","marker-start","mask","mask-type","paint-order","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-rendering","vector-effect"]);
let prefixprops = new Set(["-moz-appearance","-moz-binding","-moz-border-bottom-colors","-moz-border-left-colors","-moz-border-right-colors","-moz-border-top-colors","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-column-count","-moz-column-fill","-moz-column-gap","-moz-column-rule-color","-moz-column-rule-style","-moz-column-rule-width","-moz-column-width","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-osx-font-smoothing","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-user-select","-moz-window-dragging","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width"]);
let chromeprops = new Set(["animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","content","cursor","direction","displa...lity","column-count","column-gap","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","align-content","align-items","align-self","flex-basis","flex-grow","flex-shrink","flex-direction","flex-wrap","justify-content","order","perspective","perspective-origin","shape-outside","shape-image-threshold","shape-margin","transform","transform-origin","transform-style","buffered-rendering","clip-path","clip-rule","mask","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","marker-end","marker-mid","marker-start","mask-type","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","alignment-baseline","baseline-shift","dominant-baseline","text-anchor","writing-mode","vector-effect","paint-order","d","cx","cy","x","y","r","rx","ry"]);
let chromeprefix = new Set(["-webkit-appearance","-webkit-background-clip","-webkit-background-origin","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-flex-group","-webkit-box-lines","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","-webkit-clip-path","-webkit-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-line-clamp","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-fill-color","-webkit-text-orientation","-webkit-text-security","-webkit-text-stroke-color","-webkit-text-stroke-width","-webkit-user-drag","-webkit-user-modify","-webkit-user-select","-webkit-writing-mode","-webkit-app-region"]);

let props = [...new Set([...w3props, ...firefoxprops, ...prefixprops, ...chromeprops, ...chromeprefix])];
//let props = [...new Set([...w3props, ...firefoxprops, ...chromeprops])];


values = {};
function doNext() {
  if (props.length == 0) {
     console.log('DONE');
     return;
  }
  let prop = props.pop();
  console.log(prop);
  let xhr = new XMLHttpRequest();
  let url = 'https://developer.mozilla.org/en-US/docs/Web/CSS/' + prop;
  xhr.open('GET', url);
  xhr.responseType="document";
  xhr.send(null);
  xhr.onreadystatechange = function() {
     if (xhr.readyState == 4) {
        values[prop] = {syntax:"", url:""};
         if(xhr.status == 200) {
              let box = xhr.response.getElementsByClassName('syntaxbox');
              values[prop].url = url;
              if (box.length > 0) {
                  values[prop].syntax = box[0].innerText;
              }
         }


        values[prop].inFirefox = firefoxprops.has(prop) || prefixprops.has(prop);
        values[prop].inChrome = chromeprops.has(prop) || chromeprefix.has(prop);
         doNext();
     }
  }
}
doNext();